This document outlines the complete Firestore database schema for the GuriUp application, as extracted from the provided Flutter source code.

Collection: users
Stores information about registered users and their roles.

Document ID: User's Firebase Auth UID (e.g., _aBCdEfGhIjKlMnOpQrStUvWxYz123)

Field Name

Data Type

Description

name

String

The user's full display name.

email

String

The user's email address.

phoneNumber

String

The user's phone number.

createdAt

Timestamp

The date and time the user account was created.

role

String

User's role: 'user', 'reagent', 'hoadmin', or 'admin'.

favoriteProperties

Array of Strings

A list of property document IDs that the user has favorited.

favoriteHotels

Array of Strings

A list of hotel document IDs that the user has favorited.

Collection: property
Stores all real estate property listings (for sale or rent).

Document ID: Auto-generated by Firestore (e.g., _pRoPeRtYId12345)

Field Name

Data Type

Description

title

String

The main title of the property listing.

description

String

A detailed description of the property.

type

String

Category of the property (e.g., 'House', 'Apartment', 'Land').

images

Array of Strings

A list of URLs for the property's images.

searchKeywords

Array of Strings

A list of lowercase keywords for searching.

createdAt

Timestamp

The date and time the listing was created.

updatedAt

Timestamp

The date and time the listing was last updated.

status

String

Current status: 'available', 'rented_out', or 'sold'.

agentId

String

The UID of the agent who manages this property.

agentName

String

The display name of the agent.

price

Number (double)

The primary price of the property.

isForSale

Boolean

true if for sale, false if for rent.

discountPrice

Number (double)

The discounted price, if applicable.

hasDiscount

Boolean

true if a discount is active.

featured

Boolean

true if the property should be highlighted as featured.

location

Map

A map containing location details.

  ↳ city

String

e.g., "Hargeisa"

  ↳ area

String

e.g., "Jigjiga Yar"

  ↳ gpsCoordinates

String

GPS coordinates as a string, e.g., "9.5639, 44.0619".

features

Map

A map containing various property features.

  ↳ size

Number (double)

Size of the property in square meters.

  ↳ bedrooms

Number (integer)

Number of bedrooms.

  ↳ bathrooms

Number (integer)

Number of bathrooms.

  ↳ isFurnished

Boolean

true if the property is furnished.

  ↳ hasGate

Boolean

true if the property has a gate.

  ↳ ...

(various)

Other features like hasPool, hasParking, roadAccess, etc.

Collection: hotels
Stores all hotel listings.

Document ID: Auto-generated by Firestore (e.g., _hOtElId12345)

Field Name

Data Type

Description

name

String

The name of the hotel.

description

String

A detailed description of the hotel.

images

Array of Strings

A list of URLs for the hotel's images.

rating

Number (double)

The star rating of the hotel (e.g., 4.5).

featured

Boolean

true if the hotel should be highlighted as featured.

createdAt

Timestamp

The date and time the hotel was added.

updatedAt

Timestamp

The date and time the hotel was last updated.

hotelAdminId

String

The UID of the hotel admin assigned to manage this hotel.

pricePerNight

Number (integer)

The base price per night for a standard room.

discountPrice

Number (double)

The discounted price, if applicable.

hasDiscount

Boolean

true if a discount is active.

location

Map

A map containing location details.

  ↳ address

String

Full street address of the hotel.

  ↳ city

String

e.g., "Hargeisa"

  ↳ area

String

e.g., "Airport Road"

  ↳ coordinates

GeoPoint

The precise geographic location of the hotel.

contact

Map

A map containing contact details.

  ↳ phone

String

The hotel's contact phone number.

  ↳ email

String

The hotel's contact email address.

amenities

Map

A map of boolean flags for hotel amenities.

  ↳ hasWifi

Boolean

true if Wi-Fi is available.

  ↳ hasPool

Boolean

true if there is a swimming pool.

  ↳ hasGym

Boolean

true if there is a gym.

  ↳ ...

Boolean

Other amenities like hasRestaurant, hasParking, etc.

policies

Map

A map containing hotel policies.

  ↳ checkIn

String

e.g., "14:00"

  ↳ checkOut

String

e.g., "11:00"

  ↳ cancellation

String

Text describing the cancellation policy.

roomTypes

Array of Maps

A list of room types available.

  ↳ name

String

e.g., "Deluxe King"

  ↳ price

Number (double)

The price for this specific room type.

  ↳ details

String

e.g., "1 King Bed, Ocean View"

Subcollection of hotels: rooms
Stores details about specific room types within a hotel.

Document ID: Auto-generated by Firestore (e.g., _rOoMId12345)

Field Name

Data Type

Description

roomTypeName

String

The name of the room type (e.g., 'Standard Double').

maxOccupancy

String

A descriptive string (e.g., '2 adults, 1 child').

pricePerNight

Number (double)

The price for this room.

discountPrice

Number (double)

Discounted price for this room.

roomSize

String

A descriptive string (e.g., '25 sqm').

numberOfRooms

Number (integer)

The total number of this room type available in the hotel.

images

Array of Strings

A list of URLs for the room's images.

features

Map of Booleans

e.g., 'Air Conditioning': true, 'TV': true.

createdAt

Timestamp

The date and time the room was added.

Collection: bookings
Stores all hotel booking records.

Document ID: Auto-generated by Firestore (e.g., _bOoKiNgId12345)

Field Name

Data Type

Description

hotelId

String

The document ID of the booked hotel.

hotelName

String

The name of the booked hotel.

roomId

String

The document ID of the booked room.

roomName

String

The name of the booked room type.

userId

String

The UID of the user who made the booking.

userName

String

The name of the user who made the booking.

userPhone

String

The phone number of the user.

checkInDate

Timestamp

The check-in date.

checkOutDate

Timestamp

The check-out date.

adults

Number (integer)

Number of adults for the booking.

children

Number (integer)

Number of children for the booking.

roomsBooked

Number (integer)

Number of rooms of this type booked.

totalAmount

Number (double)

The total cost of the booking.

paymentStatus

String

Status of payment: 'pending', 'confirmed', 'cancelled'.

paymentMethod

String

The method of payment (e.g., 'Zaad', 'eDahab').

createdAt

Timestamp

The date and time the booking was made.

Collection: chats
Stores metadata for each chat conversation.

Document ID: Auto-generated or custom (e.g., _cHaTiD12345)

Field Name

Data Type

Description

participants

Array of Strings

A list containing the two user UIDs in the chat.

participantNames

Map

A map of UIDs to display names (e.g., userId1: "Ali").

lastMessageText

String

A preview of the last message sent.

lastMessageTimestamp

Timestamp

The timestamp of the last message.

lastMessageSenderId

String

The UID of the sender of the last message.

propertyId

String

The ID of the property the chat is about.

propertyTitle

String

The title of the property the chat is about.

propertyImage

String

The main image URL of the property.

unreadCount_[userId]

Number (integer)

A dynamic field to track unread messages for a user.

Subcollection of chats: messages
Stores the actual messages for each chat.

Document ID: Auto-generated by Firestore

Field Name

Data Type

Description

senderId

String

The UID of the user who sent the message.

text

String

The content of the message.

timestamp

Timestamp

The time the message was sent.

Collection: notifications
Stores notifications for users.

Document ID: Auto-generated by Firestore

Field Name

Data Type

Description

userId

String

The UID of the user who will receive the notification.

title

String

The title of the notification.

body

String

The main content of the notification.

type

String

Type of notification: 'newListing', 'priceDrop', 'chatMessage'.

createdAt

Timestamp

The time the notification was created.

isRead

Boolean

true if the user has read the notification.

propertyId

String

(Optional) ID of the related property.

chatId

String

(Optional) ID of the related chat.

senderName

String

(Optional) Name of the sender for chat notifications.

Collection: agents
Stores public-facing profile information for real estate agents.

Document ID: Agent's Firebase Auth UID

Field Name

Data Type

Description

displayName

String

The agent's public name.

email

String

The agent's public email.

phoneNumber

String

The agent's public phone number.

location

String

The agent's general location (e.g., "Hargeisa").

address

String

The agent's office address.

description

String

A short biography or description of the agent.

photoURL

String

A URL to the agent's profile picture.

role

String

The role of the agent: 'agent' or 'admin'.

Collection: notFound
Stores requests from users who couldn't find a property they were looking for.

Document ID: Auto-generated by Firestore

Field Name

Data Type

Description

name

String

The name of the user who submitted the request.

phone

String

The user's phone number.

description

String

What the user was looking for.

submittedAt

Timestamp

The time the request was submitted.

userId

String

The UID of the user who submitted the request.

